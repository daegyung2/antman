<?xml version="1.0" encoding="euc-kr"?>
<!DOCTYPE sqlMap PUBLIC '-//ibatis.apache.org//DTD Sql Map 2.0//EN' 'http://ibatis.apache.org/dtd/sql-map-2.dtd'>
<sqlMap namespace="treatment">

	<typeAlias alias="treatment" type="admin.bean.DepartmentDTO" />

		<!-- 리절트 맵 정의 -->

	<resultMap id="boardRes" class="treatment">
		<result property="depart_id" column="depart_id"/>
		<result property="dpname" column="dpname"/>
		<result property="init" column="init"/>
		<result property="d_info1" column="d_info1"/>
		<result property="d_info2" column="d_info2"/>
		<result property="d_info3" column="d_info3"/>
		<result property="d_info4" column="d_info4"/>
		<result property="d_info5" column="d_info5"/>
		<result property="d_info6" column="d_info6"/>
		<result property="d_info7" column="d_info7"/>
		<result property="d_info8" column="d_info8"/>
		<result property="d_info9" column="d_info9"/>
		<result property="d_info10" column="d_info10"/>	
	</resultMap>
	
				<!-- select 쿼리문 정의 -->
		<select id="selecttreatment1" resultMap="boardRes">
		select * from department where init='ㄱ'or init='ㄴ'or init='ㄷ'or init='ㄹ'
		</select>
		
				<select id="selecttreatment2" resultMap="boardRes">
		select * from department where init='ㅁ'or init='ㅂ'or init='ㅅ'
		</select>
		
		<select id="selecttreatment3" resultMap="boardRes">
		select * from department where init='ㅇ'or init='ㅈ'
		</select>
		
		<select id="selecttreatment4" resultMap="boardRes">
		select * from department where init='ㅊ' or init='ㅋ' or init='ㅌ' or init='ㅍ' or init='ㅎ'
		</select>
		
	<typeAlias alias="treatmentsearch" type="treatmentteamVO.SearchTreatmentTeamVO" />

		<!-- 리절트 맵 정의 -->

	<resultMap id="searchtreat" class="treatmentsearch">
	
	<result property="drname" column="drname"/>
	<result property="dpname" column="dpname"/>
	</resultMap>
	
	
	<select id="searchtreatmentteam" resultMap="searchtreat">
		select drname,dpname from(select department.dpname,doctor.drname from department join doctor on department.dpname = doctor.dpname where department.dpname = #dpname# )
 
		</select>
		
		
	<resultMap id="searchdepartname" class="treatmentsearch">
	<result property="dpname" column="dpname"/>
	</resultMap>
		
	<select id ="searchname" resultMap="searchdepartname">
	select dpname from department where dpname = #dpname# 
	</select>

		</sqlMap>
		
	
		
		
		