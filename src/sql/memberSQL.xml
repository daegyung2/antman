<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC '-//ibatis.apache.org//DTD Sql Map 2.0//EN' 'http://ibatis.apache.org/dtd/sql-map-2.dtd'>
<sqlMap namespace="member">

 <typeAlias alias="dto" type="login.bean.LoginDataBean"/>

<select id="userCheck" resultClass="int" parameterClass="dto">
  select count(*) from MEMBER where id = #id# and passwd = #passwd#
</select>

<insert id="insertUser" parameterClass="dto">
 insert into MEMBER(id,passwd,name,age,gender,phone,e_mail,getMail,eid) values(#id#,#passwd#,#name#,#age#,#gender#,#phone#,#e_mail#,#getMail#,#eid#)
</insert>

<insert id="insertUserDR" parameterClass="dto">
 insert into MEMBER(id,passwd,name,age,gender,phone,e_mail,getMail,drId) values(#id#,#passwd#,#name#,#age#,#gender#,#phone#,#e_mail#,#getMail#,#drId#)
</insert>


<select id="idCheck" resultClass="int" parameterClass="dto">
  select count(*) from MEMBER where id = #id#
</select>

 <update id="updateEid" parameterClass="dto">   
      update member set eid =#eid#, auth='E' where id=#id#
      </update>
      
<update id="updatedrId" parameterClass="dto">   
      update member set drId=#drId#, auth='D' where id=#id#
      </update>
      
      <update id="updateP" parameterClass="dto">   
      update member set auth='P' where id=#id#
      </update>
 

</sqlMap>
